#!/usr/bin/env python
# -*- coding: utf-8 -*-
""" Script launching the Pyng main function. """

import subprocess
import sys
#import ipdb;ipdb.set_trace()
# local
from pyng.config import PYNG_PIDFILE
from pyng.celerycontroller import CeleryController
from pyng.monitor import HttpStatusMonitor


def main(argv):
    command = None
    if len(argv) == 2:
        command = argv[1]
    ctl = CeleryController()
    if command == 'start':
        ctl.start()
    elif command == 'stop':
        ctl.stop()
    elif command == 'restart':
        ctl.restart()
    elif command == 'look':
        ctl.running_celerys()



if __name__ == '__main__':
    main(sys.argv)
